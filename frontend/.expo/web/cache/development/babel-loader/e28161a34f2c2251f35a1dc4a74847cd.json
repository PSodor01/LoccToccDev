{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\pauls\\\\Documents\\\\LoccToccDev\\\\frontend\\\\components\\\\main\\\\Profile.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport { useNavigation } from '@react-navigation/native';\nimport email from 'react-native-email';\nimport moment from 'moment';\nimport * as Analytics from 'expo-firebase-analytics';\nimport firebase from 'firebase';\n\nrequire('firebase/firestore');\n\nimport { connect } from 'react-redux';\n\nfunction Profile(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      userPosts = _useState2[0],\n      setUserPosts = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      following = _useState6[0],\n      setFollowing = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      blocking = _useState8[0],\n      setBlocking = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loading = _useState10[0],\n      setLoading = _useState10[1];\n\n  useEffect(function () {\n    fetchData();\n    analytics().logEvent('screen_view', {\n      screen_name: 'Profile',\n      user_name: props.currentUser.name\n    });\n  }, [props.route.params.uid, props.following, props.blocking]);\n\n  var fetchData = function fetchData() {\n    var currentUser = props.currentUser,\n        posts = props.posts;\n\n    if (props.route.params.uid === auth().currentUser.uid) {\n      setUser(currentUser);\n      firestore().collection(\"posts\").doc(auth().currentUser.uid).collection(\"userPosts\").orderBy(\"creation\", \"desc\").get().then(function (snapshot) {\n        var posts = snapshot.docs.map(function (doc) {\n          var data = doc.data();\n          var id = doc.id;\n          return _objectSpread({\n            id: id\n          }, data);\n        });\n        posts.sort(function (x, y) {\n          return y.creation - x.creation;\n        });\n        setUserPosts(posts);\n        setLoading(false);\n      });\n      setUserPosts(posts);\n      setLoading(false);\n    } else {\n      firestore().collection(\"users\").doc(props.route.params.uid).get().then(function (snapshot) {\n        if (snapshot.exists) {\n          setUser(snapshot.data());\n        } else {\n          console.log('does not exist');\n        }\n      });\n      firestore().collection(\"posts\").doc(props.route.params.uid).collection(\"userPosts\").orderBy(\"creation\", \"desc\").get().then(function (snapshot) {\n        var posts = snapshot.docs.map(function (doc) {\n          var data = doc.data();\n          var id = doc.id;\n          return _objectSpread({\n            id: id\n          }, data);\n        });\n        posts.sort(function (x, y) {\n          return y.creation - x.creation;\n        });\n        setUserPosts(posts);\n        setLoading(false);\n      });\n    }\n\n    if (props.following.indexOf(props.route.params.uid) > -1) {\n      setFollowing(true);\n    } else {\n      setFollowing(false);\n    }\n\n    if (props.blocking.indexOf(props.route.params.uid) > -1) {\n      setBlocking(true);\n    } else {\n      setBlocking(false);\n    }\n  };\n\n  var onFollow = function onFollow() {\n    var userFollowing = firestore().collection(\"following\").doc(auth().currentUser.uid).collection(\"userFollowing\").doc(props.route.params.uid).set({\n      id: props.route.params.uid,\n      follower: auth().currentUser.uid\n    });\n    analytics().logEvent('followUser', {\n      user_name: props.currentUser.name\n    });\n  };\n\n  var onUnfollow = function onUnfollow() {\n    firestore().collection(\"following\").doc(auth().currentUser.uid).collection(\"userFollowing\").doc(props.route.params.uid).delete();\n    analytics().logEvent('unfollowUser', {\n      user_name: props.currentUser.name\n    });\n  };\n\n  var increaseFollowerCount = function increaseFollowerCount() {\n    firestore().collection(\"users\").doc(props.route.params.uid).update({\n      followerCount: firestore.FieldValue.increment(1)\n    });\n  };\n\n  var increaseFollowingCount = function increaseFollowingCount() {\n    firestore().collection(\"users\").doc(auth().currentUser.uid).update({\n      followingCount: firestore.FieldValue.increment(1)\n    });\n  };\n\n  var decreaseFollowerCount = function decreaseFollowerCount() {\n    firestore().collection(\"users\").doc(props.route.params.uid).update({\n      followerCount: firestore.FieldValue.increment(-1)\n    });\n  };\n\n  var decreaseFollowingCount = function decreaseFollowingCount() {\n    firestore().collection(\"users\").doc(auth().currentUser.uid).update({\n      followingCount: firestore.FieldValue.increment(-1)\n    });\n  };\n\n  var blockUser = function blockUser() {\n    var userBlocking = firestore().collection(\"blocking\").doc(auth().currentUser.uid).collection(\"userBlocking\").doc(props.route.params.uid).set({}).then(function () {\n      Alert.alert(\"User succesfully blocked\");\n    });\n    analytics().logEvent('blockUser', {\n      user_name: props.currentUser.name\n    });\n  };\n\n  var unBlockUser = function unBlockUser() {\n    firestore().collection(\"blocking\").doc(auth().currentUser.uid).collection(\"userBlocking\").doc(props.route.params.uid).delete();\n    analytics().logEvent('unblockUser', {\n      user_name: props.currentUser.name\n    });\n  };\n\n  var blockAndUnfollowHandler = function blockAndUnfollowHandler() {\n    Alert.alert('Block?', 'If you block this user you will no longer see their posts on any of your activity feeds.', [{\n      text: 'Block',\n      onPress: function onPress() {\n        return blockAndUnfollow();\n      }\n    }, {\n      text: 'Cancel',\n      onPress: function onPress() {},\n      style: 'cancel'\n    }], {\n      cancelable: true\n    });\n  };\n\n  var blockAndUnfollow = function blockAndUnfollow() {\n    onUnfollow();\n    decreaseFollowerCount();\n    decreaseFollowingCount();\n    blockUser();\n  };\n\n  var unBlockUserHandler = function unBlockUserHandler() {\n    Alert.alert('Unblock?', 'Are you sure you want to unblock this user?', [{\n      text: 'Unblock',\n      onPress: function onPress() {\n        return unBlockUser();\n      }\n    }, {\n      text: 'Cancel',\n      onPress: function onPress() {},\n      style: 'cancel'\n    }], {\n      cancelable: true\n    });\n  };\n\n  var sendNotification = function sendNotification(notification, token) {\n    var message;\n    return _regeneratorRuntime.async(function sendNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            message = {\n              to: token,\n              sound: 'default',\n              body: notification ? notification : '',\n              badge: 1\n            };\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('https://exp.host/--/api/v2/push/send', {\n              method: 'POST',\n              headers: {\n                Accept: 'application/json',\n                'Accept-encoding': 'gzip, deflate',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(message)\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var sendNotificationForFollow = function sendNotificationForFollow() {\n    var users;\n    return _regeneratorRuntime.async(function sendNotificationForFollow$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(firestore().collection(\"users\").doc(props.route.params.uid).get().then(function (snapshot) {\n              if (snapshot.exists) {\n                var data = snapshot.data();\n                var token = data.token;\n\n                if (token != undefined) {\n                  var followName = props.currentUser.name;\n                  var notification = '(' + user.name + '): ' + followName + ' started following you';\n                  sendNotification(notification, token);\n                } else {}\n              } else {}\n            }));\n\n          case 2:\n            users = _context2.sent;\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleReportPostEmail = function handleReportPostEmail() {\n    analytics().logEvent('reportPost', {\n      user_name: props.currentUser.name\n    });\n    var to = ['ReportPost@locctocc.com'];\n    email(to, {\n      subject: 'LoccTocc Report Post',\n      body: ''\n    }).catch(console.error);\n  };\n\n  var reportPostHandler = function reportPostHandler() {\n    Alert.alert('Report Post', 'Please report this post if you feel it contains objectionable content. Our team will investigate within 24 hours and may remove the content or content creator based on our findings.', [{\n      text: 'Report',\n      onPress: function onPress() {\n        return handleReportPostEmail();\n      }\n    }, {\n      text: 'Cancel',\n      onPress: function onPress() {},\n      style: 'cancel'\n    }], {\n      cancelable: true\n    });\n  };\n\n  var deletePost = function deletePost(id) {\n    firestore().collection(\"posts\").doc(props.route.params.uid).collection(\"userPosts\").doc(id).delete({}).then(function () {\n      console.log('Post Deleted!');\n      Alert.alert('Your post has been deleted!');\n      firestore().collection(\"users\").doc(auth().currentUser.uid).update({\n        postsCount: firestore.FieldValue.increment(-1)\n      });\n      analytics().logEvent('deletePost', {\n        user_name: props.currentUser.name\n      });\n    });\n  };\n\n  var deletePostHandler = function deletePostHandler(id) {\n    Alert.alert('Delete Post', 'Are you sure you want to delete this post?', [{\n      text: 'Yes',\n      onPress: function onPress() {\n        return deletePost(id);\n      }\n    }, {\n      text: 'Cancel',\n      onPress: function onPress() {},\n      style: 'cancel'\n    }], {\n      cancelable: true\n    });\n  };\n\n  var navigation = useNavigation();\n\n  if (user === null) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: styles.profilePhotoContainer,\n    source: {\n      uri: user ? user.userImg : 'https://images.app.goo.gl/7nJRbdq4wXyVLFKV7'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: styles.profileNameText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 17\n    }\n  }, user.name)), React.createElement(View, {\n    style: {\n      marginLeft: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      paddingTop: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 21\n    }\n  }, \"Member since \"), React.createElement(Text, {\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 21\n    }\n  }, moment(user.createdAt.toDate()).format(\"MMM Do YYYY\"))), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      paddingTop: 5,\n      width: '85%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 21\n    }\n  }, \"About me: \"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 21\n    }\n  }, user.aboutMe)), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      paddingTop: 5,\n      width: '85%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, \"Location: \"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  }, user.location))), React.createElement(View, {\n    style: {\n      paddingTop: \"2%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }, props.route.params.uid !== auth().currentUser.uid ? React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 21\n    }\n  }, following ? React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      onUnfollow();\n      decreaseFollowerCount();\n      decreaseFollowingCount();\n    },\n    title: \"Following\",\n    style: styles.followingButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.following,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 37\n    }\n  }, \" Following \")) : blocking ? null : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      onFollow();\n      increaseFollowerCount();\n      increaseFollowingCount();\n      sendNotificationForFollow();\n    },\n    title: \"Follow\",\n    style: styles.followButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    style: styles.follow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 41\n    }\n  }, \" Follow \")), following && blocking != true ? React.createElement(TouchableOpacity, {\n    style: styles.blockUserButton,\n    onPress: function onPress() {\n      blockAndUnfollowHandler();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 33\n    }\n  }, \"Block\")) : blocking ? React.createElement(TouchableOpacity, {\n    style: styles.unBlockUserButton,\n    onPress: function onPress() {\n      unBlockUserHandler();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 33\n    }\n  }, \"Unblock\")) : React.createElement(TouchableOpacity, {\n    style: styles.blockUserButton,\n    onPress: function onPress() {\n      blockUser();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 31\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 33\n    }\n  }, \"Block\"))) : React.createElement(View, {\n    style: styles.middleButtonContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.profileStatsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.profileStatsBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.followNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 21\n    }\n  }, user ? user.postsCount : 0), React.createElement(Text, {\n    style: styles.followText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 21\n    }\n  }, \"Posts\")), React.createElement(View, {\n    style: styles.profileStatsBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.profileStatsBox,\n    onPress: function onPress() {\n      return props.navigation.navigate('Follower', {\n        userId: props.route.params.uid\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.followNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 25\n    }\n  }, user.followerCount < 1 ? 0 : user.followerCount), React.createElement(Text, {\n    style: styles.followText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 25\n    }\n  }, \"Followers\"))), React.createElement(View, {\n    style: styles.profileStatsBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.profileStatsBox,\n    onPress: function onPress() {\n      return props.navigation.navigate('Following', {\n        userId: props.route.params.uid\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.followNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 25\n    }\n  }, user.followingCount < 1 ? 0 : user.followingCount), React.createElement(Text, {\n    style: styles.followText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 25\n    }\n  }, \"Following\")))), React.createElement(View, {\n    style: styles.containerGallery,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    style: styles.feed,\n    numColumns: 1,\n    horizontal: false,\n    data: userPosts,\n    onRefresh: function onRefresh() {\n      return fetchData();\n    },\n    refreshing: loading,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, {\n        style: styles.feedItem,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: styles.postLeftContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        style: styles.profilePhotoPostContainer,\n        source: {\n          uri: user ? user.userImg : 'https://images.app.goo.gl/7nJRbdq4wXyVLFKV7'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 29\n        }\n      })), React.createElement(View, {\n        style: styles.postRightContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 29\n        }\n      }, React.createElement(View, {\n        style: styles.postHeaderContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: styles.profileNameFeedText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 37\n        }\n      }, user.name), React.createElement(Text, {\n        style: styles.postTimeContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 37\n        }\n      }, moment(item.creation.toDate()).fromNow())), React.createElement(View, {\n        style: styles.postContentContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 33\n        }\n      }, item.caption != null ? React.createElement(Text, {\n        style: styles.captionText,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 61\n        }\n      }, item.caption) : null, item.downloadURL != \"blank\" ? React.createElement(Image, {\n        source: {\n          uri: item.downloadURL\n        },\n        style: styles.postImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 68\n        }\n      }) : null, item.userTagList != null ? React.createElement(Text, {\n        style: {\n          color: '#0033cc',\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 65\n        }\n      }, \"@\", item.userTagList) : null), React.createElement(View, {\n        style: styles.postFooterContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 33\n        }\n      }, React.createElement(View, {\n        style: styles.likeContainer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 37\n        }\n      }, React.createElement(Icon, {\n        name: \"hammer-outline\",\n        size: 20,\n        color: \"grey\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 41\n        }\n      }), React.createElement(Text, {\n        style: styles.likeNumber,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 41\n        }\n      }, item.likesCount)), React.createElement(TouchableOpacity, {\n        style: styles.commentsContainer,\n        onPress: function onPress() {\n          return props.navigation.navigate('Comment', {\n            postId: item.id,\n            uid: item.creator,\n            posterId: item.creator,\n            posterName: user.name,\n            postCreation: item.creation,\n            postCaption: item.caption,\n            posterImg: user.userImg,\n            postImg: item.downloadURL\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 37\n        }\n      }, React.createElement(Icon, {\n        name: \"chatbubble-outline\",\n        size: 20,\n        color: \"grey\",\n        marginRight: 10,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 41\n        }\n      }), React.createElement(Text, {\n        style: styles.likeNumber,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 41\n        }\n      }, item.comments)), React.createElement(TouchableOpacity, {\n        style: styles.flagContainer,\n        onPress: reportPostHandler,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 37\n        }\n      }, React.createElement(Icon, {\n        name: \"ios-flag\",\n        size: 20,\n        color: \"grey\",\n        marginRight: 10,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 41\n        }\n      })), props.route.params.uid !== auth().currentUser.uid ? null : React.createElement(TouchableOpacity, {\n        style: styles.flagContainer,\n        onPress: function onPress() {\n          return deletePostHandler(item.id);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 43\n        }\n      }, React.createElement(Icon, {\n        name: \"trash\",\n        size: 20,\n        color: \"grey\",\n        marginRight: 10,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 45\n        }\n      })))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 17\n    }\n  })));\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  profileNameContainer: {\n    paddingBottom: 10\n  },\n  profileNameText: {\n    fontWeight: \"bold\",\n    fontSize: 22\n  },\n  containerGallery: {\n    flex: 1\n  },\n  profilePhotoContainer: {\n    backgroundColor: \"#e1e2e6\",\n    width: 100,\n    height: 100,\n    borderRadius: 40,\n    marginTop: 10,\n    overflow: 'hidden',\n    marginBottom: 10\n  },\n  followingButton: {\n    borderColor: \"#e1e2e6\",\n    borderWidth: 1,\n    borderRadius: 6,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    width: \"30%\",\n    alignSelf: \"center\",\n    marginBottom: \"1%\"\n  },\n  followButton: {\n    borderColor: \"#0033cc\",\n    borderWidth: 1,\n    borderRadius: 6,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    width: \"30%\",\n    alignSelf: \"center\",\n    marginBottom: \"1%\"\n  },\n  blockUserButton: {\n    borderColor: \"red\",\n    borderWidth: 1,\n    borderRadius: 6,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    width: \"30%\",\n    alignSelf: 'center',\n    alignItems: \"center\",\n    marginBottom: \"1%\",\n    marginLeft: \"1%\"\n  },\n  unBlockUserButton: {\n    borderColor: \"green\",\n    borderWidth: 1,\n    borderRadius: 6,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    width: \"30%\",\n    alignSelf: 'center',\n    alignItems: \"center\",\n    marginBottom: \"1%\",\n    marginLeft: \"1%\"\n  },\n  following: {\n    color: \"#666\",\n    fontSize: 14,\n    alignSelf: \"center\"\n  },\n  follow: {\n    color: \"#0033cc\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n    alignSelf: \"center\"\n  },\n  profileStatsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 2,\n    borderTopColor: \"#e1e2e6\",\n    borderTopWidth: 1,\n    borderBottomColor: \"#e1e2e6\",\n    borderBottomWidth: 1\n  },\n  profileStatsBox: {\n    marginHorizontal: 4,\n    alignItems: \"center\",\n    padding: 5\n  },\n  followText: {\n    color: \"#666\",\n    paddingHorizontal: 20\n  },\n  followNumber: {\n    fontWeight: \"bold\"\n  },\n  middleButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  feedItem: {\n    padding: 6,\n    marginVertical: 5,\n    marginHorizontal: 5,\n    borderBottomWidth: 1,\n    borderBottomColor: \"#e1e2e6\",\n    flexDirection: 'row'\n  },\n  profileNameFeedText: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  captionText: {\n    paddingBottom: 5\n  },\n  postTimeContainer: {\n    fontSize: 10,\n    marginRight: \"5%\"\n  },\n  postContentContainer: {\n    flex: 1,\n    width: \"85%\",\n    marginLeft: \"2%\"\n  },\n  postImage: {\n    width: \"100%\",\n    height: 250\n  },\n  postHeaderContainer: {\n    flexDirection: 'row',\n    flex: 1,\n    width: \"85%\",\n    paddingBottom: 4,\n    marginLeft: \"2%\",\n    justifyContent: 'space-between'\n  },\n  profilePhotoPostContainer: {\n    backgroundColor: \"#e1e2e6\",\n    width: 50,\n    height: 50,\n    borderRadius: 40\n  },\n  postFooterContainer: {\n    flexDirection: 'row',\n    paddingTop: 4,\n    justifyContent: 'space-between',\n    width: \"80%\",\n    paddingTop: 8,\n    marginLeft: \"5%\"\n  },\n  postRightContainer: {\n    width: \"100%\"\n  },\n  likeContainer: {\n    flexDirection: 'row'\n  },\n  commentsContainer: {\n    flexDirection: 'row'\n  },\n  flagContainer: {\n    flexDirection: 'row'\n  },\n  likeNumber: {\n    marginLeft: 5,\n    marginTop: 5,\n    color: \"grey\"\n  },\n  flagText: {\n    marginLeft: 5,\n    marginTop: 5,\n    color: \"grey\",\n    fontSize: 10\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.userState.currentUser,\n    following: store.userState.following,\n    blocking: store.userState.blocking\n  };\n};\n\nexport default connect(mapStateToProps, null)(Profile);","map":{"version":3,"names":["React","useState","useEffect","Icon","useNavigation","email","moment","Analytics","firebase","require","connect","Profile","props","userPosts","setUserPosts","user","setUser","following","setFollowing","blocking","setBlocking","loading","setLoading","fetchData","logEvent","screen_name","user_name","currentUser","name","route","params","uid","posts","auth","firestore","collection","doc","orderBy","get","then","snapshot","docs","map","data","id","sort","x","y","creation","exists","console","log","indexOf","onFollow","userFollowing","set","follower","onUnfollow","delete","increaseFollowerCount","update","followerCount","FieldValue","increment","increaseFollowingCount","followingCount","decreaseFollowerCount","decreaseFollowingCount","blockUser","userBlocking","Alert","alert","unBlockUser","blockAndUnfollowHandler","text","onPress","blockAndUnfollow","style","cancelable","unBlockUserHandler","sendNotification","notification","token","message","to","sound","body","badge","fetch","method","headers","Accept","JSON","stringify","sendNotificationForFollow","undefined","followName","users","handleReportPostEmail","subject","catch","error","reportPostHandler","deletePost","postsCount","deletePostHandler","navigation","styles","container","alignItems","profilePhotoContainer","uri","userImg","profileNameText","marginLeft","flexDirection","paddingTop","color","createdAt","toDate","format","width","fontWeight","aboutMe","location","justifyContent","followingButton","followButton","follow","blockUserButton","unBlockUserButton","middleButtonContainer","profileStatsContainer","profileStatsBox","followNumber","followText","navigate","userId","containerGallery","feed","item","feedItem","postLeftContainer","profilePhotoPostContainer","postRightContainer","postHeaderContainer","profileNameFeedText","postTimeContainer","fromNow","postContentContainer","caption","captionText","downloadURL","postImage","userTagList","postFooterContainer","likeContainer","likeNumber","likesCount","commentsContainer","postId","creator","posterId","posterName","postCreation","postCaption","posterImg","postImg","comments","flagContainer","StyleSheet","create","flex","backgroundColor","profileNameContainer","paddingBottom","fontSize","height","borderRadius","marginTop","overflow","marginBottom","borderColor","borderWidth","paddingVertical","paddingHorizontal","alignSelf","padding","borderTopColor","borderTopWidth","borderBottomColor","borderBottomWidth","marginHorizontal","marginVertical","marginRight","flagText","mapStateToProps","store","userState"],"sources":["C:/Users/pauls/Documents/LoccToccDev/frontend/components/main/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { StyleSheet, View, Text, Image, FlatList, TouchableOpacity, Alert, ScrollView } from 'react-native'\r\n\r\nimport Icon from 'react-native-vector-icons/Ionicons';\r\n\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport email from 'react-native-email'\r\n\r\nimport moment from 'moment';\r\n\r\nimport * as Analytics from 'expo-firebase-analytics';\r\n\r\nimport firebase from 'firebase'\r\nrequire('firebase/firestore')\r\nimport { connect } from 'react-redux'\r\n\r\nfunction Profile(props) {\r\n    const [userPosts, setUserPosts] = useState([]);\r\n    const [user, setUser] = useState(null);\r\n    const [following, setFollowing] = useState(false);\r\n    const [blocking, setBlocking] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    useEffect(() => {\r\n\r\n        fetchData()\r\n\r\n        analytics().logEvent('screen_view', { screen_name: 'Profile', user_name: props.currentUser.name })\r\n\r\n    }, [props.route.params.uid, props.following, props.blocking])\r\n\r\n    const fetchData = () => {\r\n        const { currentUser, posts } = props;\r\n    \r\n        if (props.route.params.uid === auth().currentUser.uid) {\r\n            setUser(currentUser);\r\n            firestore()\r\n                .collection(\"posts\")\r\n                .doc(auth().currentUser.uid)\r\n                .collection(\"userPosts\")\r\n                .orderBy(\"creation\", \"desc\")\r\n                .get()\r\n                .then((snapshot) => {\r\n                    let posts = snapshot.docs.map(doc => {\r\n                        const data = doc.data();\r\n                        const id = doc.id;\r\n                        return { id, ...data }\r\n                    })\r\n                    posts.sort(function (x, y) {\r\n                        return y.creation - x.creation;\r\n                    })\r\n                    setUserPosts(posts)\r\n                    setLoading(false);\r\n                    \r\n                })\r\n            setUserPosts(posts)\r\n            setLoading(false);\r\n        }\r\n        else {\r\n            firestore()\r\n                .collection(\"users\")\r\n                .doc(props.route.params.uid)\r\n                .get()\r\n                .then((snapshot) => {\r\n                    if (snapshot.exists) {\r\n                        setUser(snapshot.data())\r\n\r\n                    }\r\n                    else {\r\n                        console.log('does not exist')\r\n                    }\r\n                })\r\n            firestore()\r\n                .collection(\"posts\")\r\n                .doc(props.route.params.uid)\r\n                .collection(\"userPosts\")\r\n                .orderBy(\"creation\", \"desc\")\r\n                .get()\r\n                .then((snapshot) => {\r\n                    let posts = snapshot.docs.map(doc => {\r\n                        const data = doc.data();\r\n                        const id = doc.id;\r\n                        return { id, ...data }\r\n                    })\r\n                    posts.sort(function (x, y) {\r\n                        return y.creation - x.creation;\r\n                    })\r\n                    setUserPosts(posts)\r\n                    setLoading(false);\r\n                    \r\n                })\r\n        }\r\n\r\n        if (props.following.indexOf(props.route.params.uid) > -1) {\r\n            setFollowing(true);\r\n        } else {\r\n            setFollowing(false);\r\n        }\r\n\r\n        if (props.blocking.indexOf(props.route.params.uid) > -1) {\r\n            setBlocking(true);\r\n        } else {\r\n            setBlocking(false);\r\n        }\r\n    }\r\n\r\n    const onFollow = () => {\r\n        const userFollowing = firestore()\r\n            .collection(\"following\")\r\n            .doc(auth().currentUser.uid)\r\n            .collection(\"userFollowing\")\r\n            .doc(props.route.params.uid)\r\n            .set({\r\n                id: props.route.params.uid,\r\n                follower: auth().currentUser.uid,\r\n            })\r\n\r\n        analytics().logEvent('followUser', {user_name: props.currentUser.name});\r\n    }\r\n\r\n    const onUnfollow = () => {\r\n        firestore()\r\n            .collection(\"following\")\r\n            .doc(auth().currentUser.uid)\r\n            .collection(\"userFollowing\")\r\n            .doc(props.route.params.uid)\r\n            .delete()\r\n\r\n        analytics().logEvent('unfollowUser', {user_name: props.currentUser.name});\r\n    }\r\n\r\n    const increaseFollowerCount = () => {\r\n        firestore()\r\n            .collection(\"users\")\r\n            .doc(props.route.params.uid)\r\n            .update({\r\n                followerCount: firestore.FieldValue.increment(1)\r\n            })\r\n    }\r\n\r\n    const increaseFollowingCount = () => {\r\n        firestore()\r\n            .collection(\"users\")\r\n            .doc(auth().currentUser.uid)\r\n            .update({\r\n                followingCount: firestore.FieldValue.increment(1)\r\n            })\r\n    }\r\n\r\n    const decreaseFollowerCount = () => {\r\n        firestore()\r\n            .collection(\"users\")\r\n            .doc(props.route.params.uid)\r\n            .update({\r\n                followerCount: firestore.FieldValue.increment(-1)\r\n            })\r\n    }\r\n\r\n    const decreaseFollowingCount = () => {\r\n        firestore()\r\n            .collection(\"users\")\r\n            .doc(auth().currentUser.uid)\r\n            .update({\r\n                followingCount: firestore.FieldValue.increment(-1)\r\n            })\r\n    }\r\n\r\n    const blockUser = () => {\r\n        const userBlocking = firestore()\r\n            .collection(\"blocking\")\r\n            .doc(auth().currentUser.uid)\r\n            .collection(\"userBlocking\")\r\n            .doc(props.route.params.uid)\r\n            .set({})\r\n            .then(() => {\r\n                Alert.alert(\r\n                  \"User succesfully blocked\" \r\n                );\r\n              })\r\n\r\n        analytics().logEvent('blockUser', {user_name: props.currentUser.name});\r\n    }\r\n\r\n    const unBlockUser = () => {\r\n        firestore()\r\n            .collection(\"blocking\")\r\n            .doc(auth().currentUser.uid)\r\n            .collection(\"userBlocking\")\r\n            .doc(props.route.params.uid)\r\n            .delete()\r\n\r\n        analytics().logEvent('unblockUser', {user_name: props.currentUser.name});\r\n    }\r\n\r\n    const blockAndUnfollowHandler = () => {\r\n        Alert.alert(\r\n            'Block?',\r\n            'If you block this user you will no longer see their posts on any of your activity feeds.',\r\n\r\n            [\r\n                { text: 'Block', onPress: () => blockAndUnfollow()},\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {},\r\n                    style: 'cancel',\r\n                },\r\n            ],\r\n            { cancelable: true }\r\n\r\n        )\r\n    }\r\n\r\n    const blockAndUnfollow = () => {\r\n        onUnfollow(); \r\n        decreaseFollowerCount(); \r\n        decreaseFollowingCount();\r\n        blockUser();\r\n    }\r\n\r\n    const unBlockUserHandler = () => {\r\n        Alert.alert(\r\n            'Unblock?',\r\n            'Are you sure you want to unblock this user?',\r\n\r\n            [\r\n                { text: 'Unblock', onPress: () => unBlockUser()},\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {},\r\n                    style: 'cancel',\r\n                },\r\n            ],\r\n            { cancelable: true }\r\n\r\n        )\r\n    }\r\n\r\n    const sendNotification = async (notification, token) => {\r\n        const message = {\r\n            to: token,\r\n            sound: 'default',\r\n            body: notification ? notification : '',\r\n            badge: 1,\r\n        };\r\n        \r\n        await fetch('https://exp.host/--/api/v2/push/send', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Accept-encoding': 'gzip, deflate',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(message),\r\n        });\r\n    }\r\n\r\n    const sendNotificationForFollow = async () => {\r\n        const users = await firebase\r\n            .firestore()\r\n            .collection(\"users\")\r\n            .doc(props.route.params.uid)\r\n            .get()\r\n            .then((snapshot) => {\r\n                if (snapshot.exists) {\r\n                    let data = snapshot.data();\r\n\r\n                    const token = data.token\r\n\r\n                    if (token != undefined) {\r\n                        const followName = props.currentUser.name\r\n                        const notification = '(' + user.name + '): ' + followName + ' started following you'\r\n                        sendNotification(notification, token)\r\n                    } else {\r\n                    }\r\n                }\r\n                else {\r\n                }\r\n            })\r\n    };\r\n\r\n    const handleReportPostEmail = () => {\r\n\r\n        analytics().logEvent('reportPost', {user_name: props.currentUser.name});\r\n\r\n\r\n        const to = ['ReportPost@locctocc.com'] // string or array of email addresses\r\n        email(to, {\r\n            // Optional additional arguments\r\n            subject: 'LoccTocc Report Post',\r\n            body: ''\r\n        }).catch(console.error)\r\n    }\r\n\r\n    const reportPostHandler = () => {\r\n        Alert.alert(\r\n            'Report Post',\r\n            'Please report this post if you feel it contains objectionable content. Our team will investigate within 24 hours and may remove the content or content creator based on our findings.',\r\n\r\n            [\r\n                { text: 'Report', onPress: () => handleReportPostEmail()},\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {},\r\n                    style: 'cancel',\r\n                },\r\n            ],\r\n            { cancelable: true }\r\n\r\n        )\r\n    }\r\n\r\n    const deletePost = (id) => {\r\n        firestore()\r\n            .collection(\"posts\")\r\n            .doc(props.route.params.uid)\r\n            .collection(\"userPosts\")\r\n            .doc(id)\r\n            .delete({})\r\n            .then(() => {\r\n                console.log('Post Deleted!');\r\n                Alert.alert(\r\n                  'Your post has been deleted!',\r\n                );\r\n\r\n        firestore()\r\n            .collection(\"users\")\r\n            .doc(auth().currentUser.uid)\r\n            .update({\r\n                postsCount: firestore.FieldValue.increment(-1)\r\n            })\r\n\r\n        analytics().logEvent('deletePost', {user_name: props.currentUser.name});\r\n\r\n\r\n            \r\n    })\r\n    }\r\n\r\n    const deletePostHandler = (id) => {\r\n        Alert.alert(\r\n            'Delete Post',\r\n            'Are you sure you want to delete this post?',\r\n\r\n            [\r\n                { text: 'Yes', onPress: () => deletePost(id)},\r\n                {\r\n                    text: 'Cancel',\r\n                    onPress: () => {},\r\n                    style: 'cancel',\r\n                },\r\n            ],\r\n            { cancelable: true }\r\n\r\n        )\r\n    }\r\n\r\n    const navigation = useNavigation();\r\n\r\n    if (user === null) {\r\n        return <View />\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={{ alignItems: 'center' }}>\r\n                <Image \r\n                    style={styles.profilePhotoContainer}\r\n                    source={{uri: user ? user.userImg : 'https://images.app.goo.gl/7nJRbdq4wXyVLFKV7'}}\r\n                />\r\n                <Text style={styles.profileNameText}>{user.name}</Text>\r\n            </View>\r\n            <View style={{ marginLeft: \"5%\" }}>\r\n                <View style={{ flexDirection: 'row', paddingTop: 5}}>\r\n                    <Text style={{ color: \"grey\" }}>Member since </Text>\r\n                    <Text style={{ color: \"grey\" }}>{moment(user.createdAt.toDate()).format(\"MMM Do YYYY\")}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', paddingTop: 5, width: '85%'}}>\r\n                    <Text style={{ fontWeight: 'bold'}}>About me: </Text>\r\n                    <Text>{user.aboutMe}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', paddingTop: 5, width: '85%'}}>\r\n                    <Text style={{ fontWeight: 'bold'}}>Location: </Text>\r\n                    <Text>{user.location}</Text>\r\n                </View>\r\n            </View>\r\n            \r\n\r\n            <View style={{ paddingTop: \"2%\" }}>\r\n                {props.route.params.uid !== auth().currentUser.uid ? (\r\n                    <View style={{ flexDirection:'row', alignItems: 'center', justifyContent: 'center'}}>\r\n                        {following ? (\r\n                            <TouchableOpacity\r\n                                onPress={() => {onUnfollow(); decreaseFollowerCount(); decreaseFollowingCount();}}\r\n                                title=\"Following\"\r\n                                style={styles.followingButton}>\r\n                                    <Text style={styles.following}> Following </Text>\r\n                            </TouchableOpacity>\r\n                        ) : blocking ? (\r\n                            null\r\n                        ) :\r\n                            (\r\n                                <TouchableOpacity\r\n                                    onPress={() => {onFollow(); increaseFollowerCount(); increaseFollowingCount(); sendNotificationForFollow();}}\r\n                                    title=\"Follow\"\r\n                                    style={styles.followButton}>\r\n                                        <Text style={styles.follow}> Follow </Text>\r\n                                </TouchableOpacity>\r\n                                \r\n                            )}\r\n                        {following && blocking != true ? (\r\n                            <TouchableOpacity\r\n                                style={styles.blockUserButton}\r\n                                onPress={() => {blockAndUnfollowHandler()}}>\r\n                                <Text style={{ color: \"red\"}}>Block</Text>\r\n                            </TouchableOpacity>  \r\n                        ) : blocking ? (\r\n                            <TouchableOpacity\r\n                                style={styles.unBlockUserButton}\r\n                                onPress={() => {unBlockUserHandler();}}>\r\n                                <Text style={{ color: \"green\"}}>Unblock</Text>\r\n                            </TouchableOpacity>\r\n                        ) :\r\n                            ( <TouchableOpacity\r\n                                style={styles.blockUserButton}\r\n                                onPress={() => {blockUser();}}>\r\n                                <Text style={{ color: \"red\"}}>Block</Text>\r\n                            </TouchableOpacity>\r\n                        )}\r\n                            \r\n                            \r\n                    </View>\r\n                ) :\r\n                    <View style={styles.middleButtonContainer}>\r\n                    \r\n                    </View>\r\n                    }\r\n            </View>\r\n            <View style={styles.profileStatsContainer}>\r\n                <View style={styles.profileStatsBox}>\r\n                    <Text style={styles.followNumber}>{user ? user.postsCount : 0}</Text>\r\n                    <Text style={styles.followText}>Posts</Text>\r\n                </View>\r\n                <View style={styles.profileStatsBox}>\r\n                    <TouchableOpacity \r\n                        style={styles.profileStatsBox}\r\n                        onPress={() => props.navigation.navigate('Follower', {userId: props.route.params.uid})}>\r\n                        <Text style={styles.followNumber}>{user.followerCount < 1 ? 0 : user.followerCount}</Text>\r\n                        <Text style={styles.followText}>Followers</Text>\r\n                    </TouchableOpacity>\r\n                    \r\n                </View>\r\n                <View style={styles.profileStatsBox}>\r\n                    <TouchableOpacity \r\n                        style={styles.profileStatsBox}\r\n                        onPress={() => props.navigation.navigate('Following', {userId: props.route.params.uid})}>\r\n                        <Text style={styles.followNumber}>{user.followingCount < 1 ? 0 : user.followingCount}</Text>\r\n                        <Text style={styles.followText}>Following</Text>\r\n                    </TouchableOpacity>\r\n                    \r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.containerGallery}>\r\n                <FlatList\r\n                    style={styles.feed}\r\n                    numColumns={1}\r\n                    horizontal={false}\r\n                    data={userPosts}\r\n                    onRefresh={() => fetchData()}\r\n                    refreshing={loading}\r\n                    renderItem={({ item }) => (\r\n                        <View style={styles.feedItem}>\r\n                            <View style={styles.postLeftContainer}>\r\n                            <Image \r\n                                style={styles.profilePhotoPostContainer}\r\n                                source={{uri: user ? user.userImg : 'https://images.app.goo.gl/7nJRbdq4wXyVLFKV7'}}\r\n                            />\r\n                            </View>\r\n                            <View style={styles.postRightContainer}>\r\n                                <View style={styles.postHeaderContainer}>\r\n                                    <Text style={styles.profileNameFeedText}>{user.name}</Text>\r\n                                    <Text style={styles.postTimeContainer}>{moment(item.creation.toDate()).fromNow()}</Text>\r\n                                </View>\r\n                                <View style={styles.postContentContainer}>\r\n                                    {item.caption != null ? <Text style={styles.captionText}>{item.caption}</Text> : null}\r\n                                    {item.downloadURL != \"blank\" ? <Image source={{uri: item.downloadURL}} style={styles.postImage}/> : null}\r\n                                    {item.userTagList != null ? <Text style={{ color: '#0033cc', fontWeight: 'bold' }}>@{item.userTagList}</Text> : null}\r\n                                </View>\r\n                                <View style={styles.postFooterContainer}>\r\n                                    <View style={styles.likeContainer}>\r\n                                        <Icon name={\"hammer-outline\"} size={20} color={\"grey\"} />\r\n                                        <Text style={styles.likeNumber}>{item.likesCount}</Text>\r\n                                    </View>\r\n                                    <TouchableOpacity\r\n                                        style={styles.commentsContainer}\r\n                                        onPress={() => props.navigation.navigate('Comment', { postId: item.id, uid: item.creator, posterId: item.creator, posterName: user.name, postCreation: item.creation, postCaption: item.caption, posterImg: user.userImg, postImg: item.downloadURL })}>\r\n                                        <Icon name={\"chatbubble-outline\"} size={20} color={\"grey\"} marginRight={10} />\r\n                                        <Text style={styles.likeNumber}>{item.comments}</Text>\r\n                                    </TouchableOpacity>\r\n                                    <TouchableOpacity\r\n                                        style={styles.flagContainer}\r\n                                        onPress={reportPostHandler}>\r\n                                        <Icon name={\"ios-flag\"} size={20} color={\"grey\"} marginRight={10} />\r\n                                    </TouchableOpacity>\r\n                                        {props.route.params.uid !== auth().currentUser.uid ? \r\n                                        null\r\n                                        : <TouchableOpacity\r\n                                            style={styles.flagContainer}\r\n                                            onPress={() => deletePostHandler(item.id)}>\r\n                                            <Icon name={\"trash\"} size={20} color={\"grey\"} marginRight={10} />\r\n                                        </TouchableOpacity>\r\n                                        }\r\n                                </View>\r\n                            </View>\r\n                        </View>\r\n                        \r\n                    )}\r\n                />\r\n            </View>\r\n        </View>\r\n                \r\n        \r\n        \r\n\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#fff\",\r\n    },\r\n    profileNameContainer: {\r\n        paddingBottom: 10,\r\n    },\r\n    profileNameText: {\r\n        fontWeight: \"bold\",\r\n        fontSize: 22,\r\n    },\r\n    containerGallery: {\r\n        flex: 1\r\n    },\r\n    profilePhotoContainer: {\r\n        backgroundColor: \"#e1e2e6\",\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 40,\r\n        marginTop: 10,\r\n        overflow: 'hidden',\r\n        marginBottom: 10,\r\n\r\n    },\r\n    followingButton: {\r\n        borderColor: \"#e1e2e6\",\r\n        borderWidth: 1,\r\n        borderRadius: 6,\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        width: \"30%\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"1%\",\r\n    },\r\n    followButton: {\r\n        borderColor: \"#0033cc\",\r\n        borderWidth: 1,\r\n        borderRadius: 6,\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        width: \"30%\",\r\n        alignSelf: \"center\",\r\n        marginBottom: \"1%\",\r\n    },\r\n    blockUserButton: {\r\n        borderColor: \"red\",\r\n        borderWidth: 1,\r\n        borderRadius: 6,\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        width: \"30%\",\r\n        alignSelf: 'center',\r\n        alignItems: \"center\",\r\n        marginBottom: \"1%\",\r\n        marginLeft: \"1%\",\r\n    },\r\n    unBlockUserButton: {\r\n        borderColor: \"green\",\r\n        borderWidth: 1,\r\n        borderRadius: 6,\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        width: \"30%\",\r\n        alignSelf: 'center',\r\n        alignItems: \"center\",\r\n        marginBottom: \"1%\",\r\n        marginLeft: \"1%\",\r\n    },\r\n    following: {\r\n        color: \"#666\",\r\n        fontSize: 14,\r\n        alignSelf: \"center\",\r\n    },\r\n    follow: {\r\n        color: \"#0033cc\",\r\n        fontSize: 14,\r\n        fontWeight: \"bold\",\r\n        alignSelf: \"center\",\r\n    },\r\n    profileStatsContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: 2,\r\n        borderTopColor: \"#e1e2e6\",\r\n        borderTopWidth: 1,\r\n        borderBottomColor:\"#e1e2e6\",\r\n        borderBottomWidth: 1,\r\n    },\r\n    profileStatsBox: {\r\n        marginHorizontal: 4,\r\n        alignItems: \"center\",\r\n        padding: 5,\r\n    },\r\n    followText: {\r\n        color: \"#666\",\r\n        paddingHorizontal: 20,\r\n    },\r\n    followNumber: {\r\n        fontWeight: \"bold\",\r\n    },\r\n    middleButtonContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n    },\r\n    feedItem:{\r\n        padding:6,\r\n        marginVertical:5,\r\n        marginHorizontal:5,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: \"#e1e2e6\",\r\n        flexDirection: 'row',\r\n    },\r\n    profileNameFeedText: {\r\n        fontSize: 16,\r\n        fontWeight: 'bold',\r\n    },\r\n    captionText: {\r\n        paddingBottom: 5,\r\n    },\r\n    postTimeContainer: {\r\n        fontSize: 10,\r\n        marginRight: \"5%\",\r\n    },\r\n    postContentContainer: {\r\n        flex: 1,\r\n        width: \"85%\",\r\n        marginLeft: \"2%\",\r\n    },\r\n    postImage: {\r\n        width: \"100%\",\r\n        height: 250,\r\n    },\r\n    postHeaderContainer: {\r\n        flexDirection: 'row',\r\n        flex: 1,\r\n        width: \"85%\",\r\n        paddingBottom: 4,\r\n        marginLeft: \"2%\",\r\n        justifyContent: 'space-between'\r\n    },\r\n    profilePhotoPostContainer: {\r\n        backgroundColor: \"#e1e2e6\",\r\n        width: 50,\r\n        height: 50,\r\n        borderRadius: 40,\r\n    },\r\n    postFooterContainer: {\r\n        flexDirection: 'row',\r\n        paddingTop: 4,\r\n        justifyContent: 'space-between',\r\n        width: \"80%\",\r\n        paddingTop: 8,\r\n        marginLeft: \"5%\",\r\n\r\n    },\r\n    postRightContainer: {\r\n        width: \"100%\",\r\n    },\r\n    likeContainer: {\r\n        flexDirection: 'row',\r\n    },\r\n    commentsContainer: {\r\n        flexDirection: 'row',\r\n    },\r\n    flagContainer: {\r\n        flexDirection: 'row',\r\n    },\r\n    likeNumber: {\r\n        marginLeft: 5,\r\n        marginTop: 5,\r\n        color: \"grey\",\r\n    },\r\n    flagText: {\r\n        marginLeft: 5,\r\n        marginTop: 5,\r\n        color: \"grey\",\r\n        fontSize: 10,\r\n    },\r\n    \r\n   \r\n})\r\nconst mapStateToProps = (store) => ({\r\n    currentUser: store.userState.currentUser,\r\n    following: store.userState.following,\r\n    blocking: store.userState.blocking,\r\n})\r\nexport default connect(mapStateToProps, null)(Profile);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}